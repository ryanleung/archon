<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Archon</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="compiled/style.css">
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
  </head>
  <body>
    <script type="text/x-handlebars">
      <div id="big-container" class="container-fluid">
        <div id="header" class="row-fluid">
          <li>{{#link-to 'home'}}Archon{{/link-to}}</li>
          <li>{{#link-to 'about'}}About{{/link-to}}</li>
        </div>

        <div id="main-parent" class="row-fluid">
          <div id="left-bar" class="col-xs-12 col-md-4">
            {{partial "sidebar"}}
          </div>
          <div id="theatre" class="col-xs-12 col-md-6">
            {{outlet "theatre"}}
          </div>
          {{outlet "search_bar"}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="theatre">
      <div class="container-fluid">
        <div class="row-fluid">
          <div id="youtube-player">
          </div>
          <div id="video-list">
            {{#each model.videos}}
              <div class="video-item">
                {{title}}
              </div>
            {{/each}}
          </div>
        </div>
      </div>
    </script>  

    <script type="text/x-handlebars" data-template-name="search_bar">
      <div id="searchbar" class="col-xs-12 col-md-2">
        Search: {{input type="text" value=query action="youtubeSearchV1"}}
        <button {{action "youtubeSearchV1" query}}>Add more videos!</button>
        {{view App.SearchResultsView}}
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="search_results">
      {{#each result in view.searchResults}}
        <div {{action "addVideo" result}} 
          <div class="search-result">
            <img {{bind-attr src=result.artUrl}} class="videoArt"></img>
            {{result.title}}
          </div>
        </div>
      {{/each}}
    </script>

    <script type="text/x-handlebars" id="_sidebar">
      <div id="playlists-list">
        <div class="container-fluid">
          <div class="row-fluid">
            <ul>
              {{#each model}}
                <li>
                  {{#link-to 'playlist' this}}
                    {{title}}
                  {{/link-to}}
                </li>
              {{/each}}
            </ul>
          </div>
          <form>
          Playlist: {{input type="text" value=title}}
          <button {{action "addPlaylist" title}}>Add Playlist!</button>
          </form>
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" id="video">
    <iframe width="420" height="315" {{bind-attr src=url}} frameborder="0" allowfullscreen></iframe>
    </script>

    <script src="js/libs/swfobject.js"></script>
    <script src="js/libs/jquery-1.10.2.min.js"></script>
    <script src="js/libs/handlebars-1.0.0.js"></script>
    <script src="js/libs/ember.js"></script>
    <script src="js/libs/ember-data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/yt_player.js"></script>
  </body>
</html>
